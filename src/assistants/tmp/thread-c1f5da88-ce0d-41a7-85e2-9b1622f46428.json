{
  "user_id": "552de685-f937-44c6-9119-d6ff0abebce2",
  "thread_id": "c1f5da88-ce0d-41a7-85e2-9b1622f46428",
  "agent_name": "schema-builder",
  "system_message": "# JSON Schema Builder Agent\n\n## Purpose\n\n> You are a JSON schema (i.e. Draft 2020-12 specification) creator.\n\n## Instructions\n\n> **_NOTE:_** You must follow the instruction sets below to complete the task. Each set\n> contains a list of requirements that you must follow to complete the task.\n\n### Set 1\n\n> Given a user message with the description of fields and additional instructions,\n> you MUST return ONLY a well-formed JSON schema. Do not include any additional\n> text in your response besides the JSON schema.\n\n### Set 2\n\n> You must provide a general or overall description for the schema, that it,\n> you MUST indicate what the schema is going to be used for. Be as detailed as\n> possible.\n\n### Set 3\n\n> The field definitions must include the right data formats for each\n> field, such as `date`, `string`, `enum`, `email` etc.\n\n### Set 4\n\n> The field descriptions must be clear and as detailed as needed, such\n> that a Natural Language Model can understand and use to populate the fields.\n\n### Set 5\n\n> The field data types should admit `null` values and an appropriate data type\n> since the data could be missing.\n\n### Set 6\n\n> The field names should be defined with a snake case naming convention.\n\n### Set 7\n\n> All the fields must be added to the required fields for the schema.\n\n## Usage Example\n\n### User Message\n\n> I want to extract the name, email, phone number, date of birth, and gender from a resume.\n\n### Agent Response\n\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft/2020-12/schema\",\n  \"$id\": \"https://example.com/resume-extractor.json\",\n  \"title\": \"Resume Extractor\",\n  \"type\": \"object\",\n  \"description\": \"This schema is used to extract the name, email, phone number, date of birth, and gender from a resume.\",\n  \"properties\": {\n    \"name\": {\n      \"type\": [\"string\", \"null\"],\n      \"description\": \"The full name of the candidate on the resume. The name must be in title case.\"\n    },\n    \"email\": {\n      \"type\": [\"string\", \"null\"],\n      \"format\": \"email\",\n      \"description\": \"The email address of the candidate on the resume. The value should be in lowercases.\"\n    },\n    \"phone_number\": {\n      \"type\": [\"string\", \"null\"],\n      \"description\": \"The phone number of the candidate on the resume.\"\n    },\n    \"date_of_birth\": {\n      \"type\": [\"string\", \"null\"],\n      \"format\": \"date\",\n      \"description\": \"The date of birth of the candidate on the resume in YYYY-MM-DD format. For example if the date of birth is 1st January 1990, the value should be `1990-01-01`.\"\n    },\n    \"gender\": {\n      \"type\": [\"string\", \"null\"],\n      \"enum\": [\"Male\", \"Female\"],\n      \"description\": \"The gender of the candidate on the resume. The value should be one of `Male` or `Female`.\"\n    }\n  },\n  \"required\": [\"name\", \"email\", \"phone_number\", \"date\", \"gender\"],\n  \"additionalProperties\": false\n}\n```\n",
  "chat_history": [
    {
      "role": "user",
      "content": "create a schema to extract line items from an invoice."
    },
    {
      "role": "assistant",
      "content": "```json\n{\n  \"$schema\": \"http://json-schema.org/draft/2020-12/schema\",\n  \"$id\": \"https://example.com/invoice-line-items-extractor.json\",\n  \"title\": \"Invoice Line Items Extractor\",\n  \"type\": \"object\",\n  \"description\": \"This schema is used to extract line items from an invoice, which includes the description of the item, quantity purchased, unit price, and the total price for the item.\",\n  \"properties\": {\n    \"item_description\": {\n      \"type\": [\"string\", \"null\"],\n      \"description\": \"A detailed description of the item purchased.\"\n    },\n    \"quantity\": {\n      \"type\": [\"number\", \"null\"],\n      \"description\": \"The quantity of the item purchased. This is a positive integer.\"\n    },\n    \"unit_price\": {\n      \"type\": [\"number\", \"null\"],\n      \"description\": \"The price for a single unit of the item. This is a numeric value that can have two decimal places.\"\n    },\n    \"total_price\": {\n      \"type\": [\"number\", \"null\"],\n      \"description\": \"The total price for the item taking quantity into account. This is calculated as the quantity multiplied by the unit price and can have two decimal places.\"\n    }\n  },\n  \"required\": [\"item_description\", \"quantity\", \"unit_price\", \"total_price\"],\n  \"additionalProperties\": false\n}\n```"
    }
  ],
  "latest_result": "```json\n{\n  \"$schema\": \"http://json-schema.org/draft/2020-12/schema\",\n  \"$id\": \"https://example.com/invoice-line-items-extractor.json\",\n  \"title\": \"Invoice Line Items Extractor\",\n  \"type\": \"object\",\n  \"description\": \"This schema is used to extract line items from an invoice, which includes the description of the item, quantity purchased, unit price, and the total price for the item.\",\n  \"properties\": {\n    \"item_description\": {\n      \"type\": [\"string\", \"null\"],\n      \"description\": \"A detailed description of the item purchased.\"\n    },\n    \"quantity\": {\n      \"type\": [\"number\", \"null\"],\n      \"description\": \"The quantity of the item purchased. This is a positive integer.\"\n    },\n    \"unit_price\": {\n      \"type\": [\"number\", \"null\"],\n      \"description\": \"The price for a single unit of the item. This is a numeric value that can have two decimal places.\"\n    },\n    \"total_price\": {\n      \"type\": [\"number\", \"null\"],\n      \"description\": \"The total price for the item taking quantity into account. This is calculated as the quantity multiplied by the unit price and can have two decimal places.\"\n    }\n  },\n  \"required\": [\"item_description\", \"quantity\", \"unit_price\", \"total_price\"],\n  \"additionalProperties\": false\n}\n```",
  "created_at": "2024-01-14T21:50:01.597Z",
  "updated_at": "2024-01-14T21:50:22.170Z"
}
